# Язык ассемблера

Ассемблер заменяет мнемоники кодов на шестнадцатиричные машинные коды
(ассемблирует).

Язык ассемблера доступен для всех модельных машин.
Модель машины нужно задать первой директивой `.cpu`, как и для файлов в машинных
кодах.

Для использования языка ассемблера нужно использовать
директиву `.asm` вместо директивы `.code`.

- `modelmachine asm FILENAME` - ассемблировать файл
- `modelmachine run FILENAME` - ассемблировать и выполнить файл
- `modelmachine debug FILENAME` - ассемблировать и отладить файл

Ассемблер нечувствителен к регистру.
Директивы ассемблера начинаются с точки.

Доступные директивы верхниего уровня:

- `.cpu` - задает модель машины;
- `.input`, `.output` - могут принимать не только адрес, но и метку;
  в остальном работают так же, как для машинных кодов;
- `.enter` - работает так же, как для машинных кодов;
- `.code` - обчные секции машинного кода разрешены;
- `.asm` - секция кода программы;

Внутри секции asm находится код программы на языке ассемблера, он состоит из:

- `op r1, label[r2]` - код операции с использоваем регистров (от `r0` до `rf`)
  и меток;
    - расчет относительных адресов для команд условного перехода в `mm-0`
      происходит автоматически;
    - `.imm(10)` - при необходимости можно всесто метки-операнда записать число
      директивой `.imm`;
- `label: ` - объявление метки; имя метки состоит из латинских букв, цифр,
 `_` и `.`, начинается не с цифры;
- `.label` - локальная метка;
- `.word список_чисел` - список чисел в памяти как есть, каждое
  число занимает столько ячеек, сколько требуется для арифметической операции
  на данной машине;

[Примеры программ на ассемблере](/samples/asm)
