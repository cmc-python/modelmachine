.cpu mm-3

; ввести N<=0x100 и заполнить N ячеек, начиная с 0x1000, числами от 1 до N
; вывести первые 6 ячеек
.input 0x103
.output 0x1000, 0x1001, 0x1002, 0x1003, 0x1004, 0x1005


.code
        00 0100 0000 0102 ; 0 ; move 1 I
        00 0104 0000 0003 ; 1 ; move definstr inst
        86 0102 0103 0007 ; 2 ; next: sjg I > N -> halt
        00 0102 0000 1000 ; 3 ; instr: move I Array[I-1]
        01 0003 0100 0003 ; 4 ; add inst 1 =: inst
        01 0102 0100 0102 ; 5 ; add I 1 =: I
        80 0000 0000 0002 ; 6 ; jump next
        99 0000 0000 0000 ; 7 ; halt

.code 0x0100
        00 0000 0000 0001 ; 0 ; 1
        00 0000 0000 0000 ; 1 ; 0
        00 0000 0000 0000 ; 2 ; I
        00 0000 0000 0000 ; 3 ; N
        00 0102 0000 1000 ; 4 ; move I Array[0]

.enter 16
